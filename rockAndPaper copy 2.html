<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock and Paper</title>
</head>

<body>
    <h3>Rock Paper Scissors</h3>
    <button onclick="
    compare1('rock');">Rock</button>
    <button onclick="
    compare1('Paper');">Paper</button>
    <button onclick="
    compare1('Scissors');">Scissors</button>

    <button
    onclick="
    count.Wins=0;
    count.Loses=0;
    count.Tie=0;
    localStorage.removeItem('score');
    "
    >Reset Score</button>

    <script>

        // const count = {
        //     Wins:0,
        //     Loses:0,
        //     Tie:0

        // }
        let count = JSON.parse((localStorage.getItem('score'))) || {
                Wins: 0,
                Loses: 0,
                Tie: 0
            };
        // if(count===null){
        //     count = {
        //         Wins: 0,
        //         Loses: 0,
        //         Tie: 0
        //     }

        // }
        function compare1(para1) {
            const compMov = func1();
            let result = '';
            if (para1 === 'scissors') {
                if (compMov === 'scissors') {
                    result = 'You tie';
                }
                else if (compMov === 'rock') {
                    result = 'You lost';
                }
                else {
                    result = 'You win';
                }
            }
            else if (para1 === 'paper') {

                if (compMov === 'paper') {
                    result = 'You tie';
                }
                else if (compMov === 'scissors') {
                    result = 'You lost';
                }
                else {
                    result = 'You win';
                }
            }
            else {

                if (compMov === 'rock') {
                    result = 'You tie';
                }
                else if (compMov === 'paper') {
                    result = 'You lost';
                }
                else {
                    result = 'You win';
                }
            }

           

            if(result==='You win'){
                count.Wins+=1;
            }
            else if(result==='You lost'){
                count.Loses+=1;
            }
            else{
                count.Tie+=1;
            }
             //to save result to localStorage
             localStorage.setItem('score',JSON.stringify(count));

            alert(`You picked ${para1}, Computer picked ${compMov}, ${result},
            Wins: ${count.Wins} Loses: ${count.Loses} Tie: ${count.Tie}`);
        }


        function func1() {
            let randomNum = Math.random();
            let compMov = '';

            if (randomNum >= 0 && randomNum < 1 / 3) {
                compMov = 'rock';
            }
            else if (randomNum >= 1 / 3 && randomNum < 2 / 3) {
                compMov = 'paper';
            }
            else {
                compMov = 'scissors'
            }
            // console.log(compMov);
            return compMov;

        }
    </script>
</body>

</html>